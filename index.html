<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ø¯Ø§Ù†ÙŠØ§Ù„ SRT - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²Ù†</title>
<style>
  :root{--bg:#f6f7fb;--card:#ffffff;--ink:#111;--muted:#666;--brand:#4f46e5;--brand-2:#22c55e;--warn:#f59e0b;--danger:#ef4444;--ring:rgba(79,70,229,.2)}
  *{box-sizing:border-box}
  body{margin:0;font-family:Tahoma,Arial,sans-serif;background:var(--bg);color:var(--ink)}
  header{position:sticky;top:0;z-index:10;background:#1f2937;color:#fff;padding:18px 16px;text-align:center;font-weight:800;letter-spacing:1.5px;font-size:28px}
  header .sub{display:block;font-weight:400;font-size:12px;opacity:.8;margin-top:4px}
  .wrap{max-width:1100px;margin:18px auto;padding:0 12px}
  .card{background:var(--card);border-radius:14px;box-shadow:0 6px 24px rgba(0,0,0,.06);padding:16px}
  .login{max-width:420px;margin:8vh auto;display:flex;flex-direction:column;gap:10px;align-items:stretch}
  input,select,button{padding:10px 12px;border:1px solid #d8dbe8;border-radius:10px;font-size:14px;outline:none}
  input:focus{border-color:var(--brand);box-shadow:0 0 0 4px var(--ring)}
  button{border:none;cursor:pointer;font-weight:700}
  .btn{background:var(--brand);color:#fff;transition:.15s transform}
  .btn:hover{transform:translateY(-1px)}
  .btn.sec{background:#0ea5e9}
  .btn.alt{background:var(--brand-2)}
  .btn.warn{background:var(--warn)}
  .btn.ghost{background:#e5e7eb;color:#111}
  .btn.danger{background:var(--danger)}
  .row{display:flex;gap:8px;flex-wrap:wrap}
  .grow{flex:1}
  .layout{display:grid;grid-template-columns:260px 1fr;gap:14px}
  @media(max-width:980px){.layout{grid-template-columns:1fr}}
  .side{position:sticky;top:86px;align-self:start}
  .side .menu{display:flex;flex-direction:column;gap:8px}
  .menu button{display:flex;justify-content:space-between;align-items:center}
  .title{font-size:18px;font-weight:800;margin:0 0 6px}
  .muted{color:var(--muted);font-size:12px}
  table{width:100%;border-collapse:collapse;margin-top:10px}
  th,td{border-bottom:1px solid #eceff6;padding:10px;text-align:center}
  thead th{background:#fafbff;font-size:13px}
  tbody tr.low{background:#fff2f2}
  .badge{font-size:12px;padding:4px 8px;border-radius:999px;background:#eef2ff;color:#3730a3}
  .notice{position:fixed;left:50%;top:18px;transform:translateX(-50%);background:#111;color:#fff;padding:10px 14px;border-radius:999px;display:none;z-index:999}
  .kpis{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
  .kpi{background:#f8fafc;border:1px solid #eef2f7;border-radius:12px;padding:10px;text-align:center}
  .kpi .v{font-size:18px;font-weight:800}
  .chip{display:inline-block;padding:4px 8px;border-radius:999px;background:#f1f5f9;font-size:12px;margin-inline:2px}
  .tools{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
  @media print{header,.side,.tools,.notice,.login{display:none!important}.wrap{max-width:100%;margin:0;padding:0}.card{box-shadow:none;padding:0}body{background:#fff}}
</style>
</head>
<body>
<header>
  Ø¯Ø§Ù†ÙŠØ§Ù„ SRT
  <span class="sub">Ø¥Ø¯Ø§Ø±Ø© Ù…Ø®Ø²Ù† Ø¨Ø³ÙŠØ·Ø© ÙˆØ³Ø±ÙŠØ¹Ø©</span>
</header>

<div id="notice" class="notice"></div>

<div id="login" class="wrap">
  <div class="card login">
    <h2 style="margin:0;text-align:center">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
    <div class="row">
      <input id="user" class="grow" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" />
      <input id="pass" class="grow" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" />
    </div>
    <button class="btn" onclick="login()">Ø¯Ø®ÙˆÙ„</button>
    <div class="row" style="justify-content:space-between">
      <button class="btn ghost grow" onclick="showRecover()">Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
      <span class="muted">Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ: admin / 1234</span>
    </div>
  </div>
</div>

<div id="app" class="wrap" style="display:none">
  <div class="layout">
    <aside class="side">
      <div class="card">
        <p class="title">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</p>
        <div class="menu">
          <button class="btn ghost" onclick="switchView('inv')">ğŸ“¦ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† <span class="badge" id="countBadge">0</span></button>
          <button class="btn ghost" onclick="switchView('rep')">ğŸ“„ ÙƒØ´Ù Ø§Ù„Ø­Ø³Ø§Ø¨</button>
          <button class="btn ghost" onclick="switchView('events')">ğŸ•˜ Ø³Ø¬Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</button>
          <button class="btn ghost" onclick="switchView('settings')">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
          <button class="btn warn" onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©</button>
          <button class="btn danger" onclick="logout()">ğŸ”’ Ø®Ø±ÙˆØ¬</button>
        </div>
      </div>
    </aside>

    <main>
      <section id="view-inv" class="card">
        <div class="row" style="justify-content:space-between;align-items:center">
          <h3 class="title" style="margin:0">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h3>
          <div class="chip">Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬ = Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹</div>
        </div>
        <div class="row">
          <input id="name" class="grow" placeholder="Ø§Ø³Ù… Ø§Ù„ØºØ±Ø¶" />
          <input id="barcode" class="grow" placeholder="Ø¨Ø§Ø±ÙƒÙˆØ¯ / Ø±Ù‚Ù… ØªØ³Ù„Ø³Ù„ÙŠ" />
          <input id="qty" type="number" min="0" class="grow" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ©" />
          <input id="price" type="number" min="0" class="grow" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹" />
          <button class="btn alt" onclick="addItem()">â• Ø¥Ø¶Ø§ÙØ©</button>
        </div>
        <div class="row" style="margin-top:6px">
          <input id="search" class="grow" placeholder="Ø¨Ø­Ø«" oninput="renderTable()" />
          <button class="btn sec" onclick="exportCSV()">â¬‡ï¸ ØªØµØ¯ÙŠØ± CSV</button>
        </div>
        <table id="table">
          <thead>
            <tr><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯</th><th>Ø§Ù„ÙƒÙ…ÙŠØ©</th><th>Ø§Ù„Ø³Ø¹Ø±</th><th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th><th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>
    </main>
  </div>
</div>

<script>
let users=[{u:"admin",p:"1234"}];
let items=[];
let events=[];
function login(){
  let u=document.getElementById("user").value;
  let p=document.getElementById("pass").value;
  if(users.find(x=>x.u===u&&x.p===p)){document.getElementById("login").style.display="none";document.getElementById("app").style.display="block";notice("ØªÙ… Ø§Ù„Ø¯Ø®ÙˆÙ„");}
  else notice("Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§Ø·Ø¦Ø©");
}
function logout(){document.getElementById("login").style.display="block";document.getElementById("app").style.display="none";}
function notice(t){let n=document.getElementById("notice");n.innerText=t;n.style.display="block";setTimeout(()=>n.style.display="none",2000);}
function addItem(){
  let n=document.getElementById("name").value;
  let b=document.getElementById("barcode").value;
  let q=+document.getElementById("qty").value;
  let p=+document.getElementById("price").value;
  if(!n||!b||!q||!p)return notice("Ø§ÙƒÙ…Ù„ Ø§Ù„Ø­Ù‚ÙˆÙ„");
  items.push({n,b,q,p});
  events.push("Ø§Ø¶Ø§ÙØ© "+n);
  renderTable();
  document.getElementById("name").value=document.getElementById("barcode").value=document.getElementById("qty").value=document.getElementById("price").value="";
}
function renderTable(){
  let s=document.getElementById("search").value.toLowerCase();
  let tb=document.querySelector("#table tbody");tb.innerHTML="";
  let f=items.filter(x=>x.n.toLowerCase().includes(s)||x.b.toLowerCase().includes(s));
  f.forEach((it,i)=>{
    let tr=document.createElement("tr");
    tr.innerHTML=`<td>${it.n}</td><td>${it.b}</td><td>${it.q}</td><td>${it.p}</td><td>${it.q*it.p}</td>
    <td><button onclick="delItem(${i})">âŒ</button></td>`;
    tb.appendChild(tr);
  });
  document.getElementById("countBadge").innerText=items.length;
}
function delItem(i){items.splice(i,1);renderTable();}
function exportCSV(){
  let c="Ø§Ù„Ø§Ø³Ù…,Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯,Ø§Ù„ÙƒÙ…ÙŠØ©,Ø§Ù„Ø³Ø¹Ø±,Ø§Ù„Ø§Ø¬Ù…Ø§Ù„ÙŠ\n";
  items.forEach(it=>{c+=`${it.n},${it.b},${it.q},${it.p},${it.q*it.p}\n`;});
  let b=new Blob([c],{type:"text/csv"});let a=document.createElement("a");
  a.href=URL.createObjectURL(b);a.download="inventory.csv";a.click();
}
function switchView(v){notice("Ø§Ù†ØªÙ‚Ù„Øª Ø§Ù„Ù‰ "+v);}
function showRecover(){alert("Ø¶Ø¹ Ù†Ø¸Ø§Ù… Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ù…Ø®ØµØµ Ù‡Ù†Ø§")}
</script>
</body>
</html>
